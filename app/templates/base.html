<!DOCTYPE html>

{% from "bootstrap/utils.html" import render_messages %}
{% from "bootstrap/nav.html" import render_nav_item %}

<html lang="en" class="h-100">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    {% block styles %}
      {{ bootstrap.load_css() }}
    {% endblock %}

    <title>{% block title %}{% endblock %}</title>

    {{ moment.include_jquery() }}
    {{ moment.include_moment() }}
  </head>
  <body class="h-100">
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-end">
        {% if current_user.is_authenticated %}
          {{ render_nav_item('profile',  'My Profile', username=current_user.username) }}
          {{ render_nav_item('users', 'Users') }}
          {{ render_nav_item('chats', 'Chats') }}
          {{ render_nav_item('logout', 'Logout') }}
        {% else %}
          {{ render_nav_item('login', 'Login') }}
          {{ render_nav_item('register', 'Sign up') }}
        {% endif %}
      </nav>
    </header>

    <main class="container h-100">
      {{ render_messages(dismissible=True) }}
      {% block content %}{% endblock %}
    </main>

    {% block scripts %}
      {{ bootstrap.load_js() }}
    {% endblock %}

  </body>
</html>
